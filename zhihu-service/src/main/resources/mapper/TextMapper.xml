<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.mccreefei.zhihu.dao.mapper.TextMapper">
    <resultMap id="TextMap" type="cn.mccreefei.zhihu.dao.domain.TextDo">
        <result column="article_id" property="articleId" jdbcType="INTEGER"/>
        <result column="question_id" property="questionId" jdbcType="INTEGER"/>
        <result column="answer_id" property="answerId" jdbcType="INTEGER"/>
        <result column="content" property="content" jdbcType="LONGVARCHAR"/>
        <result column="text_type" property="textType" jdbcType="INTEGER"/>
    </resultMap>

    <select id="getAllTextList" resultMap="TextMap">
        select question_id, answer_id, null as article_id, content, 1 as text_type
        from zhihu_answer_text where content is not null
        union all
        select null as question_id, null as answer_id, article_id, content, 2 as text_type
        from zhihu_article_text where content is not null
    </select>

</mapper>
